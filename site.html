<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>English Language Institute - LMS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f4f6f8; }
    header { background:#1e40af; color:white; padding:15px; text-align:center; }
    nav { display:flex; gap:10px; justify-content:center; background:#111827; padding:10px; }
    nav button { background:#374151; color:white; border:none; padding:10px 15px; cursor:pointer; border-radius:5px; }
    nav button:hover { background:#1e40af; }
    .container { max-width:1000px; margin:20px auto; padding:20px; background:white; border-radius:8px; }
    h2 { margin-top:0; }
    input, textarea { width:100%; padding:10px; margin:5px 0 15px; }
    .card { border:1px solid #ddd; padding:15px; border-radius:6px; margin-bottom:15px; }
    .hidden { display:none; }
    .btn { background:#1e40af; color:white; padding:10px 15px; border:none; border-radius:5px; cursor:pointer; }
    .btn.danger { background:#b91c1c; }
    img.course-image { width:100%; max-height:300px; object-fit:cover; border-radius:5px; margin-bottom:10px; }
  </style>
</head>
<body>

<header>
  <h1>English Language Institute</h1>
  <p>Online Courses • Videos • Images • Tasks • Tests</p>
</header>

<nav>
  <button onclick="showSection('courses')">Courses</button>
  <button onclick="showSection('admin')">Admin Panel</button>
</nav>

<div class="container">

  <!-- COURSES SECTION -->
  <div id="courses">
    <h2>Available Courses</h2>
    <div id="courseList"></div>
  </div>

  <!-- ADMIN SECTION -->
  <div id="admin" class="hidden">
    <h2>Admin Panel</h2>
    <p><b>Add New Course</b></p>
    <input id="title" placeholder="Course Title" />
    <textarea id="desc" placeholder="Course Description"></textarea>
    <input type="file" id="image" accept="image/*" />
    <input type="file" id="video" accept="video/*" />
    <textarea id="task" placeholder="Task / Assignment"></textarea>
    <textarea id="test" placeholder="Test Question"></textarea>
    <button class="btn" onclick="addCourse()">Add Course</button>
  </div>

</div>

<script>
  // Load courses from localStorage
  let courses = JSON.parse(localStorage.getItem('courses')) || [];

  function showSection(id) {
    document.getElementById('courses').classList.add('hidden');
    document.getElementById('admin').classList.add('hidden');
    document.getElementById(id).classList.remove('hidden');
  }

  function addCourse() {
    const videoFile = video.files[0];
    const imageFile = image.files[0];

    if(!title.value || !desc.value){
      alert('Please enter course title and description!');
      return;
    }

    const course = {
      title: title.value,
      desc: desc.value,
      video: videoFile ? URL.createObjectURL(videoFile) : '',
      image: imageFile ? URL.createObjectURL(imageFile) : '',
      task: task.value,
      test: test.value
    };

    courses.push(course);
    localStorage.setItem('courses', JSON.stringify(courses));

    alert('Course Added Successfully');

    // Reset form fields
    title.value = desc.value = video.value = image.value = task.value = test.value = '';

    renderCourses();
  }

  function deleteCourse(index) {
    if (!confirm('Are you sure you want to delete this course?')) return;
    courses.splice(index, 1);
    localStorage.setItem('courses', JSON.stringify(courses));
    renderCourses();
  }

  function renderCourses() {
    courseList.innerHTML = '';
    courses.forEach((c, i) => {
      courseList.innerHTML += `
        <div class="card">
          <h3>${c.title}</h3>
          ${c.image ? `<img src="${c.image}" alt="${c.title}" class="course-image">` : ''}
          <p>${c.desc}</p>
          ${c.video ? `<video width="100%" height="315" controls><source src="${c.video}" type="video/mp4"></video>` : ''}
          <p><b>Task:</b> ${c.task}</p>
          <p><b>Test:</b> ${c.test}</p>
          <button class="btn danger" onclick="deleteCourse(${i})">Delete</button>
        </div>`;
    });
  }

  // Initial render
  renderCourses();
</script>

</body>
</html>
